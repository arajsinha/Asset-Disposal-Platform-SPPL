<mvc:View
    controllerName="assetdisposaltaskui.controller.GenericTaskUI"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:l="sap.ui.layout"
    xmlns:f="sap.ui.layout.form"
    displayBlock="true"
    xmlns="sap.m"
>
    <!-- <App id="app"> -->
    <!-- <pages> -->
    <Page
        showHeader="false"
        showFooter="false"
    >
        <content>
            <f:SimpleForm
                editable="true"
                layout="ColumnLayout"
                title="General Information"
                columnsM="2"
                columnsL="3"
                columnsXL="4"
            >
                <f:content>
                    <Label text="Request ID" />
                    <Text text="{objectId}" />

                    <Label text="Requestor Name" />
                    <Text text="{requestorName}" />

                    <Label text="Department Name" />
                    <Text text="{departmentName}" />

                    <Label text="Total Purchase Cost" />
                    <Text text="{totalPurchaseCost}" />
                    <Button
                        text="Audit Trail"
                        press=".addAuditTrailDymmy"
                    />
                    <Button
                        text="Approve"
                        press=".approve"
                    />
                    <Button
                        text="Reject"
                        press=".reject"
                    />
                </f:content>
            </f:SimpleForm>

            <Table
                id="idProductsTable"
                class="sapUiMediumMarginTop"
                autoPopinMode="true"
                contextualWidth="Auto"
                items="{
			path: 'assetDetails'
		}"
            >
                <headerToolbar>
                    <OverflowToolbar>
                        <content>
                            <Title
                                text="Assets"
                                level="H2"
                            />
                            <ToolbarSpacer />
                        </content>
                    </OverflowToolbar>
                </headerToolbar>
                <columns>
                    <Column width="auto">
                        <Text text="Asset Number" />
                    </Column>

                    <Column
                        width="auto"
                        hAlign="End"
                    >
                        <Text text="Netbook Value" />
                    </Column>
                </columns>
                <items>
                    <ColumnListItem vAlign="Middle">
                        <cells>
                            <Text text="{assetNumber}" />
                            <ObjectNumber
                                number="{
								parts:[{path:'netBookValue'},{path:'Currency'}],
								type: 'sap.ui.model.type.Currency',
								formatOptions: {showMeasure: false}
							}"
                                unit="{Currency}"
                            />
                        </cells>
                    </ColumnListItem>
                </items>
            </Table>

            <Table
                id="approvals"
                class="sapUiMediumMarginTop"
                autoPopinMode="true"
                contextualWidth="Auto"
                items="{
			path: 'AuditTrail',
            parameters : {
                $select : 'taskType'
            },
            sorter: { path: 'taskType', descending: false, group: '.getTaskType'},
            groupHeaderFactory: '.getGroupHeader'
		}"
            >
                <headerToolbar>
                    <OverflowToolbar>
                        <content>
                            <Title
                                text="Approvals"
                                level="H2"
                            />
                            <ToolbarSpacer />
                        </content>
                    </OverflowToolbar>
                </headerToolbar>
                <columns>

                    <Column width="auto">
                        <Text text="Approver" />
                    </Column>
                    <Column width="auto">
                        <Text text="Appoval Time" />
                    </Column>
                    <Column width="auto">
                        <Text text="Comment" />
                    </Column>
                </columns>
                <items>
                    <ColumnListItem vAlign="Middle">
                        <cells>
                            <Text text="{approverName}" />
                            <Text text="{timestamp}" />
                            <Text text="{comment}" />
                        </cells>
                    </ColumnListItem>
                </items>
            </Table>
        </content>
    </Page>
    <!-- </pages>
    </App> -->
</mvc:View>
